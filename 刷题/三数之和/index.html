<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        // 第一版
        function threeSum(nums) {
            let res = []
            for (let i = 0, len = nums.length; i < len - 2; i++) {
                for (let j = i + 1; j < len - 1; j++) {
                    let arr = [...nums]
                    let a = arr.splice(i, 1)[0]
                    let b = arr.splice(j - 1, 1)[0]
                    for (let k = 0, l = arr.length; k < l; k++) {
                        if (a + b === 0 - arr[k]) {
                            if (res.length === 0) {
                                res.push([a, b, arr[k]])
                            } else {
                                let flag = true
                                for (let n = 0, length = res.length; n < length; n++) {
                                    if (res[n].includes(a) && res[n].includes(b) && res[n].includes(arr[k])) {
                                        flag = false
                                    }
                                }
                                if (flag) {
                                    res.push([a, b, arr[k]])
                                }
                            }
                        }
                    }
                }
            }
            return res
        }

        // 报错
        // 未通过测试用例  [-4,-2,1,-5,-4,-4,4,-2,0,4,0,-2,3,1,-5,0]
        // 少 [0, 0, 0]
        // [-4, 0, 4]  会把[0, 0, 0] 排除掉
        // 判断 nums 中是否有至少三个0, 有 res.push([0, 0, 0])

        // 第二版
        function threeSum2(nums) {
            let res = []
            for (let i = 0, len = nums.length; i < len - 2; i++) {
                for (let j = i + 1; j < len - 1; j++) {
                    let arr = [...nums]
                    let a = arr.splice(i, 1)[0]
                    let b = arr.splice(j - 1, 1)[0]
                    for (let k = 0, l = arr.length; k < l; k++) {
                        if (a + b === 0 - arr[k]) {
                            if (res.length === 0) {
                                res.push([a, b, arr[k]])
                            } else {
                                let flag = true
                                for (let n = 0, length = res.length; n < length; n++) {
                                    if (res[n].includes(a) && res[n].includes(b) && res[n].includes(arr[k])) {
                                        flag = false
                                    }
                                }
                                if (flag) {
                                    res.push([a, b, arr[k]])
                                }
                            }
                        }
                    }
                }
            }
            let num0 = 0
            for (let i = 0, len = nums.length; i < len; i++) {
                if (nums[i] === 0) num0++
            }
            if (num0 > 2) res.push([0, 0, 0])
            return res
        }

        // 报错    
        //  测试用例, [0, 0, 0]
        // ...
        // 返回 [[0, 0, 0], [0, 0, 0]]


        // 第三版

        function threeSum3(nums) {
            let res = []
            for (let i = 0, len = nums.length; i < len - 2; i++) {
                for (let j = i + 1; j < len - 1; j++) {
                    let arr = [...nums]
                    let a = arr.splice(i, 1)[0]
                    let b = arr.splice(j - 1, 1)[0]
                    for (let k = 0, l = arr.length; k < l; k++) {
                        if (a + b === 0 - arr[k]) {
                            if (res.length === 0) {
                                res.push([a, b, arr[k]])
                            } else {
                                let flag = true
                                for (let n = 0, length = res.length; n < length; n++) {
                                    if (res[n].includes(a) && res[n].includes(b) && res[n].includes(arr[k])) {
                                        flag = false
                                    }
                                }
                                if (flag) {
                                    res.push([a, b, arr[k]])
                                }
                            }
                        }
                    }
                }
            }
            let num0 = 0
            for (let i = 0, len = nums.length; i < len; i++) {
                if (nums[i] === 0) num0++
            }
            let is0 = true
            for (let i = 0, len = res.length; i < len; i++) {
                if (res[i].join('') === '000') {
                    is0 = false
                }
            }
            if (num0 > 2 && is0) res.push([0, 0, 0])
            return res
        }
        // 超时
        // 在本地验证没问题   
        // ...
        // 明天优化..

        let arr = [4,-8,-9,9,10,-3,13,12,9,8,9,5,-4,-8,7,-12,-14,-11,-10,-6,2,7,-3,9,-8,9,-2,11,3,8,7,-8,-15,13,9,3,-5,-1,0,-11,-7,-5,1,4,-6,-7,-1,-13,-11,4,-4,-2,-12,0,-7,-5,-13,6,13,-3,-9,5,-4,-8,3,-10,10,5,5,-13,1,13,-11,-13,-6,-10,-4,1,-8,-8,-10,-4,6,-6,3,14,-4,5,-3,-5,9,4,-15,-9,3,-4,-4,-10,8,8,-8,-5,-2,-11]
       console.log( threeSum3(arr))
    </script>
</body>

</html>